"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};/**
  * doormat - http://jh3y.github.io/doormat
  *
  * @license MIT
  * @author jh3y
  * (c) 2016
*/
!function(){var e={CLASS:"dm",CURRENT_CLASS:"dm-pnl--crnt",NEXT:"next",PREVIOUS:"previous",RESET:"reset",ERROR_MSG:"Doormat: Must assign root element with class",DOWN:"D",UP:"U"},n={debounce:150,snapping:{travel:!1,viewport:!0,threshold:30,duration:".25s"}},t=function(e,n){var t=void 0;return function(){var i=this,o=arguments;return clearTimeout(t),t=setTimeout(function(){return e.apply(i,o)},n)}},i=function r(e,n){var t={};for(var i in e){var o=i.toUpperCase();if(t[o]=e[i],n.hasOwnProperty(i)){var a=n[i];t[o]="object"===("undefined"==typeof a?"undefined":_typeof(a))?r(t[o],a):a}}return t},o=function(){function o(r){_classCallCheck(this,o);var a=this;if(a.el=document.querySelector("."+e.CLASS),!a.el)throw Error(e.ERROR_MSG);"onorientationchange"in window?window.onorientationchange=a.calibrate.bind(this):window.onresize=t(a.calibrate.bind(this),100),window.onscroll=a.__handleScroll.bind(this),a.panels=a.el.children,a._OPTS=i(n,r),a.CURRENT=a.panels[0],a.CURRENT.className+=" "+e.CURRENT_CLASS,a.calibrate()}return _createClass(o,[{key:"__setPanel",value:function(n){var t=this,i=t.CURRENT;i.className=i.className.replace(e.CURRENT_CLASS,"").trim(),i.style.top=n===e.NEXT?"-"+i.offsetHeight+"px":0,t.CURRENT=n===e.RESET?t.panels[0]:i[n+"ElementSibling"],t.CURRENT.className+=" "+e.CURRENT_CLASS}},{key:"calibrate",value:function(n){var t=this;t.TRACK_HEIGHT=0,t.HEIGHT="onorientationchange"in window?screen.height:window.innerHeight;for(var i=t.panels,o=0;o<i.length;o++){var r=i[o];r.style.zIndex=999-o,r.style.minHeight=t.HEIGHT+"px",r.HEIGHT=r.offsetHeight,r.STARTING_POS=t.TRACK_HEIGHT,t.TRACK_HEIGHT=t.TRACK_HEIGHT+r.offsetHeight}t.SNAP_THRESHOLD=t.HEIGHT*(t._OPTS.SNAPPING.THRESHOLD/100),document.body.style.height=t.TRACK_HEIGHT+"px",n&&(window.scrollTo(0,0),t.__setPanel(e.RESET))}},{key:"inSnapRegion",value:function(){var n=this,t=n.CURRENT,i=t.offsetHeight,o=n.SNAP_THRESHOLD,r=n._OPTS.SNAPPING,a=Math.abs(parseInt(t.style.top,10));n.SNAP_TOP=!1,n.SNAP_BOTTOM=!1;var l=i>a&&a>i-o,s=i-o>a&&a>i-n.HEIGHT&&n.SCROLL_DIR===e.UP;n.SNAP_TOP=r.VIEWPORT?l:s;var T=a<i-n.HEIGHT+o&&a>i-n.HEIGHT,S=a>i-n.HEIGHT+o&&n.SCROLL_DIR===e.DOWN;return n.SNAP_BOTTOM=r.VIEWPORT?T:S,n.SNAP_TOP||n.SNAP_BOTTOM}},{key:"__handleScroll",value:function(n){var t=this,i=t.CURRENT,o=window.scrollY||window.pageYOffset;t.SCROLL_DIR=o>t.SCROLL_LAST?e.DOWN:e.UP,t.SCROLL_LAST=o,i.style.top=i.STARTING_POS-o+"px",o>i.STARTING_POS+i.HEIGHT||o===i.STARTING_POS+i.HEIGHT?i.nextElementSibling&&t.__setPanel(e.NEXT):o<i.STARTING_POS&&i.previousElementSibling&&t.__setPanel(e.PREVIOUS);var r=t._OPTS.SNAPPING;if(r&&(r.VIEWPORT||r.TRAVEL)&&t.inSnapRegion()){var a=t.__handleSnap;clearTimeout(a.__TIMER),a.__TIMER=setTimeout(a.bind(t),t._OPTS.DEBOUNCE)}}},{key:"__handleSnap",value:function(){var n=this,t=n.CURRENT,i=n._OPTS.SNAPPING.VIEWPORT,o=function(){t.style.transitionProperty=null,t.style.transitionDuration=null,t.style.visibility=null},r=function(){t.style.transitionProperty="top",t.style.transitionDuration=n._OPTS.SNAPPING.DURATION,t.style.visibility="visible",t.addEventListener("transitionend",o)},a=function(){t.style.top="-"+t.offsetHeight+"px",n.__setPanel(e.NEXT),window.scrollTo(0,n.CURRENT.STARTING_POS)},l=function(){window.scrollTo(0,t.STARTING_POS+(t.offsetHeight-n.HEIGHT))};n.inSnapRegion()&&(r(),n.SNAP_TOP?i?a():l():n.SNAP_BOTTOM&&(i?l():a()))}}]),o}();window.Doormat=o}();